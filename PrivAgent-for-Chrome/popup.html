<!DOCTYPE html>
<!-- Copyright (c) 2025 Yifan Xu, Jietong Zhou, Yihang Zou, Yuchu Guo -->
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>PrivAgent Mail</title>
  <link rel="stylesheet" href="popup.css">
</head>
<body>
  <div class="content">
    <h1>PrivAgent Mail</h1>
    <p id="status" class="status">Checking sign-in status...</p>
    <button id="signin" class="primary-button">Sign in with Google</button>
    <button id="logout" class="secondary-button" hidden>Sign out</button>
    <button id="settings" class="ghost-button" type="button" aria-expanded="false">Settings</button>
    <div id="settings-panel" class="settings-panel" hidden>
      <label class="field">
        <span class="field-label">API endpoint</span>
        <input id="openai-endpoint" class="text-input" type="text" placeholder="https://api.openai.com/v1/chat/completions" autocomplete="off">
      </label>
      <label class="field">
        <span class="field-label">Model</span>
        <input id="openai-model" class="text-input" type="text" placeholder="gpt-4o-mini" autocomplete="off">
      </label>
      <label class="field">
        <span class="field-label">API key</span>
        <input id="openai-api-key" class="text-input" type="password" placeholder="sk-..." autocomplete="new-password">
      </label>
      <div class="settings-actions">
        <button id="save-settings" class="primary-button" type="button">Save settings</button>
        <button id="clear-settings" class="ghost-button" type="button">Clear</button>
      </div>
      <button id="clear-memory" class="clear-cache-button" type="button">
        <svg class="button-icon" viewBox="0 0 16 16" aria-hidden="true" focusable="false">
          <path d="M6 1.5h4l.6 1.5H13a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-.5v8A1.5 1.5 0 0 1 11 14.5H5A1.5 1.5 0 0 1 3.5 13V5H3a.5.5 0 0 1-.5-.5v-1A.5.5 0 0 1 3 3h2.4L6 1.5Zm4.5 3.5h-5v7a.5.5 0 0 0 .5.5h4a.5.5 0 0 0 .5-.5v-7ZM7 6.5a.5.5 0 0 1 1 0v5a.5.5 0 0 1-1 0v-5Zm2 0a.5.5 0 0 1 1 0v5a.5.5 0 0 1-1 0v-5Z" />
        </svg>
        <span>Clear Cache</span>
      </button>
      <p id="settings-status" class="settings-status" hidden></p>
    </div>
    <p class="legal">&copy; 2025 Yifan Xu, Jietong Zhou, Yihang Zou, Yuchu Guo.</p>
  </div>
  <script src="popup.js"></script>
</body>
</html>
